{"id":"ralph-tui-hmv3-epic","type":"epic","title":"HiveMind v3.0 Relational Cognitive Engine","description":"Transform HiveMind from a passive 'Flat-File Markdown Logger' into an active Relational Cognitive Engine powered by CQRS, Graph-RAG, the Actor Model, and a strict architectural taxonomy.\n\n## Completed Stories (Phase 1-2)\n- US-001: Graph node Zod schemas ✅\n- US-002: Graph state aggregates ✅\n- US-003: Paths for graph directory ✅\n- US-004: Compaction engine extraction ✅\n- US-005: Session engine extraction ✅\n- US-006: Inspect engine extraction ✅\n- US-007: Brownfield scan extraction ✅\n- US-008: Session split extraction ✅\n- US-009: Tool response helper ✅\n- US-010: Cognitive packer core ✅\n- US-011: Time Machine filter ✅\n- US-012: TTS (Time-To-Stale) filter ✅\n- US-013: XML compression with budget ✅\n- US-014: Graph I/O layer ✅\n\n## Remaining Stories (Phase 3-7)\n- Phase 3: US-015 to US-017 (SDK Hook Injection)\n- Phase 4: US-018 to US-022 (Graph Migration & Session Swarms)\n- Phase 5: US-023 to US-025 (Tool Consolidation)\n- Phase 6: US-026 to US-031 (Testing & Verification)\n- Phase 7: US-032 to US-050 (OpenTUI Dashboard)","status":"open","priority":1,"external_ref":"prd:./docs/plans/prd-hivemind-v3-relational-engine-2026-02-16.md","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-015","type":"task","title":"US-015: Wire packer to messages-transform","description":"As the system, I want packed XML injected into every user message so the agent has pristine context.\n\n## Acceptance Criteria\n- [ ] In messages-transform.ts, call packCognitiveState()\n- [ ] Inject as synthetic: true part at START (prepend)\n- [ ] Keep existing checklist as second synthetic part (append)\n\n## Quality Gates\n- [ ] npm test passes (84+ tests)\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-010 (cognitive-packer), US-014 (graph-io)","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-016","type":"task","title":"US-016: Implement Pre-Stop Gate checklist","description":"As the system, I want to force the agent to verify state before stopping.\n\n## Acceptance Criteria\n- [ ] Checklist items derived from trajectory.json active tasks\n- [ ] Items: hierarchy updated, artifacts saved, commit threshold met\n- [ ] Checklist injected as synthetic: true part at END\n- [ ] Format: <system-reminder>BEFORE completing your turn...</system-reminder>\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-015 (packer wired to messages-transform)","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-017","type":"task","title":"US-017: Refactor session-lifecycle to use packer","description":"As a developer, I want session-lifecycle.ts reduced from 586 lines to ≤200 by using the packer.\n\n## Acceptance Criteria\n- [ ] Replace ad-hoc section assembly with packCognitiveState() call\n- [ ] Keep: bootstrap block (first 2 turns), setup guidance, governance signals\n- [ ] Move: brownfield detection, framework conflict routing → src/lib/onboarding.ts\n- [ ] File reduced to ≤200 lines\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-010 (cognitive-packer)","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-018","type":"task","title":"US-018: Build graph migration script","description":"As the system, I want one-time auto-migration from flat files to graph structure.\n\n## Acceptance Criteria\n- [ ] Create src/lib/graph-migrate.ts\n- [ ] migrateToGraph(directory) triggers on first hook if graph/ missing\n- [ ] Migrate: brain.json hierarchy → trajectory.json\n- [ ] Migrate: tasks.json flat → graph/tasks.json with parent_phase_id FK\n- [ ] Migrate: mems.json flat → graph/mems.json with staleness_stamp, type: insight, origin_task_id: null\n- [ ] Create empty graph/plans.json\n- [ ] Preserve old files as .bak backups\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-001 (schemas), US-002 (state schemas), US-014 (graph-io)","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-019","type":"task","title":"US-019: Implement dual-read backward compat","description":"As the system, I want graph-aware functions to fall back to legacy paths during migration.\n\n## Acceptance Criteria\n- [ ] All graph-aware functions check graph/ first\n- [ ] Fall back to state/ and memory/ if graph missing\n- [ ] Log migration status on each fallback\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-018 (graph migration script)","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-020","type":"task","title":"US-020: Implement 80% session splitter","description":"As the system, I want to split sessions at 80% context capacity with pristine handoff.\n\n## Acceptance Criteria\n- [ ] Create src/lib/session-swarm.ts\n- [ ] Monitor session token pressure via SDK\n- [ ] At 80%: call packCognitiveState() for export\n- [ ] Call client.session.create() with packed XML as Turn 0\n- [ ] Save export to sessions/archive/splits/\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-010 (cognitive-packer), US-008 (session-split)","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-021","type":"task","title":"US-021: Implement headless researcher swarms","description":"As the system, I want to spawn background sub-sessions for research tasks.\n\n## Acceptance Criteria\n- [ ] spawnHeadlessResearcher(client, parentId, prompt) function\n- [ ] Uses noReply: true to force background execution\n- [ ] Commands sub-agent to save findings to graph/mems.json with origin_task_id\n- [ ] Metadata tracked in sessions/active/swarms/\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-020 (session-swarm), US-014 (graph-io)","status":"open","priority":3,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-022","type":"task","title":"US-022: Wire trajectory write-through in tools","description":"As the system, I want tools to update trajectory.json on hierarchy changes.\n\n## Acceptance Criteria\n- [ ] declare_intent → sets trajectory.active_plan_id, clears phase/task\n- [ ] map_context(trajectory) → updates intent shift stamp\n- [ ] map_context(tactic/action) → updates active_phase_id / active_task_ids\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-014 (graph-io), US-018 (graph migration)","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-023","type":"task","title":"US-023: Wire 6 canonical hivemind tools","description":"As a developer, I want the 6 unified hivemind-*.ts tools wired into index.ts.\n\n## Acceptance Criteria\n- [ ] src/index.ts registers 6 tools (was 10)\n- [ ] Tools: hivemind_session, hivemind_inspect, hivemind_memory, hivemind_anchor, hivemind_hierarchy, hivemind_cycle\n- [ ] All 6 tools slimmed to ≤100 lines (business logic in libs)\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: Phase 1-3 complete","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-024","type":"task","title":"US-024: Delete 13 old tool files","description":"As a developer, I want dead tool files removed to eliminate confusion.\n\n## Acceptance Criteria\n- [ ] Delete: declare-intent.ts, map-context.ts, compact-session.ts, scan-hierarchy.ts, save-anchor.ts, think-back.ts, save-mem.ts, recall-mems.ts, hierarchy.ts, export-cycle.ts, check-drift.ts, list-shelves.ts, self-rate.ts\n- [ ] Update src/tools/index.ts to export only 6 canonical tools\n- [ ] Update classifyTool() in detection.ts to recognize new names\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-023","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-025","type":"task","title":"US-025: Update documentation","description":"As a user, I want documentation to reflect the new tool structure.\n\n## Acceptance Criteria\n- [ ] Update AGENTS.md with new tool names\n- [ ] Update README.md with new tool list\n- [ ] Update CLI help text\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-023, US-024","status":"open","priority":3,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-026","type":"task","title":"US-026: Create graph schema tests","description":"As a developer, I want unit tests for Zod schema validation.\n\n## Acceptance Criteria\n- [ ] Create tests/graph-nodes.test.ts\n- [ ] Test: valid/invalid nodes\n- [ ] Test: FK constraints (orphan rejection)\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-001 (graph-nodes.ts schemas)","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-027","type":"task","title":"US-027: Create cognitive packer tests","description":"As a developer, I want unit tests for the packer's core functions.\n\n## Acceptance Criteria\n- [ ] Create tests/cognitive-packer.test.ts\n- [ ] Test: XML output format\n- [ ] Test: TTS filtering\n- [ ] Test: Time Machine (false_path pruning)\n- [ ] Test: FK resolution\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-010, US-011, US-012, US-013","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-028","type":"task","title":"US-028: Create graph I/O tests","description":"As a developer, I want unit tests for atomic writes and validation.\n\n## Acceptance Criteria\n- [ ] Create tests/graph-io.test.ts\n- [ ] Test: CRUD operations\n- [ ] Test: atomic writes\n- [ ] Test: Zod validation on I/O\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-014 (graph-io.ts)","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-029","type":"task","title":"US-029: Create migration tests","description":"As a developer, I want unit tests for the graph migration.\n\n## Acceptance Criteria\n- [ ] Create tests/graph-migrate.test.ts\n- [ ] Test: old→new format conversion\n- [ ] Test: backup creation\n- [ ] Test: dual-read fallback\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-018, US-019","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-030","type":"task","title":"US-030: Create session swarm tests","description":"As a developer, I want unit tests for swarm spawning and 80% splitting.\n\n## Acceptance Criteria\n- [ ] Create tests/session-swarm.test.ts\n- [ ] Test: 80% split trigger\n- [ ] Test: headless spawn with noReply\n- [ ] Test: context injection (mock SDK client)\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-020, US-021","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-031","type":"task","title":"US-031: Full regression test","description":"As a developer, I want to verify no regressions after the overhaul.\n\n## Acceptance Criteria\n- [ ] All 84+ tests pass\n- [ ] npx tsc --noEmit passes\n- [ ] Manual test: start session → update hierarchy → save mem → inspect → compact → verify graph state\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: All phases complete (US-015 to US-030)","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-032","type":"task","title":"US-032: Migrate from Ink to OpenTUI","description":"As a developer, I want to migrate the dashboard from Ink to OpenTUI for OpenCode ecosystem integration.\n\n## Acceptance Criteria\n- [ ] Add dependencies: @opentui/react, @opentui/core, react (>=19.0.0)\n- [ ] Remove Ink dependencies from package.json\n- [ ] Bun runtime required - add engines: { bun: >=1.0.0 }\n- [ ] Update TypeScript config with jsxImportSource: @opentui/react\n- [ ] Create src/dashboard/opentui/Dashboard.tsx\n- [ ] Entry point: createCliRenderer() from @opentui/core, createRoot(renderer) from @opentui/react\n- [ ] CRITICAL: Use renderer.destroy() to exit - NEVER process.exit()\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-010, US-014","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-033","type":"task","title":"US-033: Build TelemetryHeader component","description":"As a user, I want to see token pressure and session health at a glance with visual gauges.\n\n## Acceptance Criteria\n- [ ] <TelemetryHeader> uses <box> with borderStyle=rounded\n- [ ] Token pressure gauge: ASCII progress bar with 45deg striped fill\n- [ ] Color coding: neon-green < 50%, neon-amber 50-75%, neon-red > 75%\n- [ ] Display: mode, governance status, automation level, active view indicator\n- [ ] Bilingual: all labels via useI18n()\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-034","type":"task","title":"US-034: Build TrajectoryPane component","description":"As a user, I want to see the Read-Head (active plan/phase/task) as an interactive tree.\n\n## Acceptance Criteria\n- [ ] <TrajectoryPane> renders tree via graph/trajectory.json\n- [ ] Show: EPIC → PHASE → TASK hierarchy with .tree-line dashed indentation\n- [ ] Status indicators: neon-green dot = Active, neon-amber dot = Pending, checkmark = Complete\n- [ ] Expand/collapse with ▼/▶ arrows\n- [ ] Bilingual: panel title via useI18n()\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044, US-014","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-035","type":"task","title":"US-035: Build MemoryPane component","description":"As a user, I want to see active memories grouped by shelf with staleness indicators.\n\n## Acceptance Criteria\n- [ ] <MemoryPane> renders mems from graph/mems.json\n- [ ] Group by shelf: Architecture Decisions, Synthesized Knowledge, False Paths\n- [ ] Apply dimmed styling to false_path memories\n- [ ] Show TTS indicator: Expires in 72h unless linked\n- [ ] Bilingual: panel title via useI18n()\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044, US-014","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-036","type":"task","title":"US-036: Build AutonomicLog component","description":"As a user, I want to see live hook/tool events in a scrolling log.\n\n## Acceptance Criteria\n- [ ] <AutonomicLog> uses <scrollbox> for last 50 events\n- [ ] Timestamp + event type + message format\n- [ ] Color coding: HOOK (cyan), GATE (yellow), TOOL (magenta)\n- [ ] Height: 5-8 lines\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-037","type":"task","title":"US-037: Build InteractiveFooter component","description":"As a user, I want keyboard shortcuts to control HiveMind from the dashboard.\n\n## Acceptance Criteria\n- [ ] Use useKeyboard hook from @opentui/react\n- [ ] [R] - Force re-pack of cognitive state\n- [ ] [S] - Manual 80% session split trigger\n- [ ] [P] - Prune stale/false_path mems\n- [ ] [L] - Toggle language (EN/VI)\n- [ ] [ESC] / [Q] - Unmount dashboard\n- [ ] Display shortcuts as footer\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-038","type":"task","title":"US-038: Wire dashboard to cognitive packer","description":"As the system, I want the dashboard to consume the cognitive packer output for real-time state.\n\n## Acceptance Criteria\n- [ ] Create useHivemindState() hook\n- [ ] Subscribe to file changes via fs.watch on graph/*.json\n- [ ] Call packCognitiveState() on state change\n- [ ] Parse XML into dashboard model\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-010","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-039","type":"task","title":"US-039: Implement token pressure from SDK","description":"As the system, I want accurate token usage from the OpenCode SDK.\n\n## Acceptance Criteria\n- [ ] Use client.session.get() to fetch session details\n- [ ] Extract token counts from session response\n- [ ] Calculate percentage against 128k context window\n- [ ] Update gauge in real-time\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-033","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-040","type":"task","title":"US-040: Build SwarmMonitor component","description":"As a user, I want to see active headless swarms with their status.\n\n## Acceptance Criteria\n- [ ] <SwarmMonitor> displays swarms from sessions/active/swarms/\n- [ ] Show: swarm type, parent session, prompt excerpt, status spinner\n- [ ] Count indicator: Active Swarms: 1\n- [ ] Link to parent task via origin_task_id\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-021","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-041","type":"task","title":"US-041: Create slash command entry point","description":"As a user, I want to launch the dashboard via /hivemind-dashboard slash command.\n\n## Acceptance Criteria\n- [ ] Add hivemind-dashboard slash command in plugin\n- [ ] Command launches OpenTUI dashboard in fullscreen\n- [ ] On exit, returns to normal CLI flow\n- [ ] Handle missing dependencies gracefully\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032 to US-040","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-042","type":"task","title":"US-042: Dashboard accessibility and responsiveness","description":"As a user, I want the dashboard to adapt to terminal size changes.\n\n## Acceptance Criteria\n- [ ] Use useTerminalDimensions() and useOnResize() hooks\n- [ ] Minimum supported: 80x24 terminal\n- [ ] Truncate content gracefully on small terminals\n- [ ] Expand panels on larger terminals\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032","status":"open","priority":3,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-043","type":"task","title":"US-043: Dashboard tests","description":"As a developer, I want comprehensive tests for the dashboard components.\n\n## Acceptance Criteria\n- [ ] Create tests/dashboard-opentui.test.ts\n- [ ] Test: component rendering with mock state\n- [ ] Test: keyboard input handling\n- [ ] Test: token gauge calculations\n- [ ] Test: hierarchy tree rendering\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032 to US-042","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-044","type":"task","title":"US-044: Build i18n/bilingual infrastructure","description":"As a user, I want to toggle between English and Vietnamese in all dashboard components.\n\n## Acceptance Criteria\n- [ ] Create src/dashboard/i18n/translations.ts with EN and VI dictionaries\n- [ ] All panel titles, labels, footer shortcuts, status text have translation keys\n- [ ] Technical terms preserved in English: UUID, XML, JSON, READ_HEAD, ACTIVE, DONE\n- [ ] [L] keyboard shortcut toggles language; persisted in .hivemind/system/config.json\n- [ ] useI18n() hook returns t(key) function + current locale\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-045","type":"task","title":"US-045: Build SwarmOrchestratorView component","description":"As a user, I want to see active agent swarms as an ASCII topology with real-time communication monitoring.\n\n## Acceptance Criteria\n- [ ] <SwarmOrchestratorView> renders ASCII tree of agent hierarchy\n- [ ] Agent status dots: thinking (purple pulse), idle (gray), api (cyan glow), crit (pink blink)\n- [ ] Agent state cards in right sidebar with name, status, API call count, last action\n- [ ] CommunicationBus panel: scrolling JSON message stream with color-coded types\n- [ ] Filter tabs: [ALL], [ERRORS], [HANDSHAKES]\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044, US-021","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-046","type":"task","title":"US-046: Build TimeTravelDebuggerView component","description":"As a user, I want to replay state history with diff visualization and playback controls.\n\n## Acceptance Criteria\n- [ ] <TimeTravelDebuggerView> renders state chronicle timeline + diff viewer\n- [ ] StateChronicle sidebar: chronological events with green/red/blue badges\n- [ ] DiffViewer: uses OpenTUI native <diff> component with oldCode/newCode props\n- [ ] PlaybackControls: [H] Rewind, [SPACE] Pause/Play, [L] Forward, timeline scrubber\n- [ ] Speed control: 1x/2x/4x toggle\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044, US-018","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-047","type":"task","title":"US-047: Build ToolRegistryView component","description":"As a user, I want to browse, inspect, and configure registered tools from the dashboard.\n\n## Acceptance Criteria\n- [ ] <ToolRegistryView> renders catalog table + schema preview + config\n- [ ] CatalogTable: sortable columns, status badges\n- [ ] SchemaPreview: uses OpenTUI native <code> component for Zod schema viewing\n- [ ] ConfigOverrides: per-tool toggle, timeout input, retry policy select\n- [ ] CommandInput: terminal-style command buffer with blinking cursor\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044, US-023","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-048","type":"task","title":"US-048: Build MemCreationModal component","description":"As a user, I want a modal dialog to create new cognitive anchors/mems with graph linking.\n\n## Acceptance Criteria\n- [ ] <MemCreationModal> renders as overlay with backdrop blur\n- [ ] Decorative double border with neon green accent\n- [ ] Form fields: RelevanceScore (0.0-1.0), MemType, Content (textarea, 512 char limit), NodeLinker\n- [ ] Keyboard shortcuts: [ESC] Cancel, [CTRL+S] Save\n- [ ] On save: calls addGraphMem() with proper FKs\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032, US-044, US-014","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-049","type":"task","title":"US-049: Implement dashboard view navigation","description":"As a user, I want to switch between the 5 dashboard views using keyboard shortcuts.\n\n## Acceptance Criteria\n- [ ] Use OpenTUI <tab-select> component for view tabs, or [1-5] keyboard shortcuts\n- [ ] [TAB] cycles forward through views, [SHIFT+TAB] cycles backward\n- [ ] [M] opens Mem Creation Modal from any view\n- [ ] Active view indicator in header/footer\n- [ ] State preserved when switching views\n- [ ] Default view on launch: Main Dashboard\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-033 to US-048","status":"open","priority":2,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
{"id":"ralph-tui-050","type":"task","title":"US-050: Dashboard design system (TUI tokens)","description":"As a developer, I want a shared design system matching the Stitch mockups for consistent OpenTUI rendering.\n\n## Acceptance Criteria\n- [ ] Create src/dashboard/theme.ts with color tokens\n- [ ] Color tokens: neon-green (#00ff41), neon-amber (#ffb000), neon-blue (#00f0ff), neon-purple (#bd00ff), neon-pink (#ff0055), neon-red (#ff3333)\n- [ ] Background tokens: bg-main (#0d0d0d), bg-panel (#111111), bg-swarm (#13131a), border (#333333)\n- [ ] Reusable components: <TuiPanel>, <StatusDot>, <ProgressGauge>, <SyntaxBlock>\n- [ ] Animation helpers via useTimeline() from @opentui/react\n\n## Quality Gates\n- [ ] npm test passes\n- [ ] npx tsc --noEmit passes\n\n## Dependencies\n- Depends on: US-032","status":"open","priority":1,"parent_id":"ralph-tui-hmv3-epic","created_at":"2026-02-16T08:30:00.000Z","updated_at":"2026-02-16T08:30:00.000Z"}
